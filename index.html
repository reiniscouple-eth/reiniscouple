<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reiniscouple - Arte Generativa em NFT</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Estilos Adicionais Personalizados (se o Tailwind não cobrir tudo) */
        body {
            font-family: 'Inter', sans-serif; 
            background-color: #1a1a1a; /* Cinza quase preto */
            color: #e0e0e0; /* Cinza claro para texto */
        }

        /* Para garantir que o sticky nav funcione bem com o Tailwind */
        .sticky-nav {
            position: -webkit-sticky; /* Para Safari */
            position: sticky;
            top: 0;
            z-index: 50; /* Tailwind usa z-index em incrementos de 10 */
        }

        /* Melhorar contraste de links no tema escuro */
        a {
            color: #38bdf8; /* Azul claro do Tailwind (sky-500) */
        }
        a:hover {
            color: #0ea5e9; /* Azul um pouco mais escuro (sky-600) */
        }

        /* Estilo para os cartões de arte para um aspeto mais polido */
        .artwork-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .artwork-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 0 0 1px #0ea5e9; /* Sombra com destaque azul */
        }

        .artwork-card video,
        .artwork-card img {
            aspect-ratio: 1 / 1; /* Força um aspeto quadrado, ajuste conforme necessário */
            object-fit: cover; /* Garante que a imagem/vídeo cubra a área sem distorcer */
        }

    </style>
</head>
<body class="bg-zinc-900 text-gray-200">

    <nav class="sticky-nav bg-zinc-800 shadow-md">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-center h-16">
                <div class="flex items-center">
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <a href="#hero" class="text-gray-300 hover:bg-zinc-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Reiniscouple</a>
                            <a href="#sobre" class="text-gray-300 hover:bg-zinc-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Sobre Nós</a>
                            <a href="#obras" class="text-gray-300 hover:bg-zinc-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Obras</a>
                            <a href="#exposicoes" class="text-gray-300 hover:bg-zinc-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Exposições</a>
                            <a href="#contato" class="text-gray-300 hover:bg-zinc-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium">Contato</a>
                        </div>
                    </div>
                </div>
                <div class="-mr-2 flex md:hidden">
                    <button type="button" id="mobile-menu-button" class="bg-zinc-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-zinc-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-zinc-800 focus:ring-white" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Abrir menu principal</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <div class="md:hidden hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#hero" class="text-gray-300 hover:bg-zinc-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Reiniscouple</a>
                <a href="#sobre" class="text-gray-300 hover:bg-zinc-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Sobre Nós</a>
                <a href="#obras" class="text-gray-300 hover:bg-zinc-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Obras</a>
                <a href="#exposicoes" class="text-gray-300 hover:bg-zinc-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Exposições</a>
                <a href="#contato" class="text-gray-300 hover:bg-zinc-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Contato</a>
            </div>
        </div>
    </nav>

    <header id="hero" class="bg-zinc-800 py-16 sm:py-24">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl sm:text-5xl md:text-6xl font-extrabold text-white">
                Reiniscouple
            </h1>
            <p class="mt-4 text-lg sm:text-xl text-gray-300 max-w-2xl mx-auto">
                Artistas Digitais Generativos explorando a intersecção entre código, interatividade e a blockchain Tezos.
            </p>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8">
        <section id="sobre" class="py-12 sm:py-16">
            <h2 class="text-3xl sm:text-4xl font-bold text-white mb-6 sm:mb-8">Sobre Nós: Oliver e Shirley Reinis</h2>
            <div class="space-y-4 text-gray-300">
                <p>Somos Oliver e Shirley Reinis, um casal de artistas conhecido como Reiniscouple. Nossa paixão reside na criação de arte digital generativa, onde o código se torna o pincel e o algoritmo a musa. Exploramos as fronteiras da criatividade computacional, buscando expressar emoções e conceitos complexos através de sistemas visuais dinâmicos e interativos.</p>
                <p>Acreditamos que a arte generativa oferece uma perspetiva única sobre a criação, onde o artista define as regras e os parâmetros, mas o resultado final emerge de um processo colaborativo entre o humano e a máquina. Cada peça é uma descoberta, uma surpresa nascida da lógica e da aleatoriedade controlada.</p>
                <h3 class="text-2xl font-semibold text-white mt-6 mb-3">Jornada Artística</h3>
                <p>Nossa jornada artística começou individualmente, mas foi o nosso encontro que catalisou a formação de Reiniscouple. 
                   Somos originalmente fotógrafos, e desde 2007 exploramos a intersecção entre fotografia, vídeo e código. E a partir de 2022 começamos a explorar mais
                   profundamente a arte generativa interativa. Compartilhamos um fascínio pela tecnologia e pela sua capacidade de expandir os horizontes da expressão 
                   artística. A blockchain Tezos e o ecossistema NFT forneceram-nos a plataforma ideal para partilhar o nosso trabalho com o mundo, garantindo 
                   autenticidade e proveniência.</p>
                <p>Nossas obras buscam explorar e discutir conceitos sociais, filosóficos, psicológicos e físicos, através do uso de código. Gostamos de criar o impossível.</p>
            </div>
        </section>

        <section id="obras" class="py-12 sm:py-16">
            <h2 class="text-3xl sm:text-4xl font-bold text-white mb-6 sm:mb-8">Nossas Obras em Destaque</h2>
            <p class="text-gray-300 mb-8">Uma seleção curada das nossas criações, diretamente da nossa coleção no Objkt.com.</p>
            <div id="artworks-loading" class="text-center py-5">
                <p class="text-lg text-gray-400">A carregar obras da coleção no Objkt.com...</p>
                <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-sky-500 mx-auto mt-4"></div>
            </div>
            <div id="artworks-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8">
                </div>
            <p id="csp-notice" class="text-center text-sm text-amber-400 mt-4" style="display: none;">
                Nota: Se as obras não carregarem no ambiente de pré-visualização, pode ser devido a restrições de segurança (CSP). 
                Tente abrir o ficheiro HTML diretamente no seu navegador.
            </p>
        </section>

        <section id="exposicoes" class="py-12 sm:py-16">
            <h2 class="text-3xl sm:text-4xl font-bold text-white mb-6 sm:mb-8">Exposições e Participações</h2>
            <ul class="list-disc list-inside space-y-3 text-gray-300 pl-5">
                <li><strong>SP-Arte</strong> - Bienal - São Paulo/Brasil - 2022</li>
                <li><strong>Stratophere</strong> - NY/USA - 2022</li>
                <li><strong>NFTSP</strong> - Museu da Imigração - São Paulo/SP - 2022</li>
                <li><strong>Salão Virtual de Arte Contemporânea</strong> - Galeria Binária - 2022</li>
                <li><strong>NFTSP Pocket</strong> - Hotel Hilton - São Paulo/SP - 2022/2023</li>
                <li><strong>NFT Bauru</strong> - Bauru/SP - 2023</li>
                <li><strong>NFT Brasil</strong> - Bienal - São Paulo/SP - 2023</li>
                <li><strong>Art in Space Gallery</strong> - Dubai/EAU - 2023</li>
                <li><strong>NFT Rio</strong> - Rio de Janeiro/RJ - 2023</li>
                <li><strong>Mondoir Gallery</strong> - Dubai/EAU - 2023</li>
                <li><strong>Inventum</strong> - Pato Branco/PR - 2024</li>
                </ul>
        </section>

        <section id="contato" class="py-12 sm:py-16">
            <h2 class="text-3xl sm:text-4xl font-bold text-white mb-6 sm:mb-8">Contato</h2>
            <div class="text-gray-300 space-y-3">
                <p>Gostaríamos muito de ouvir de vocês!</p>
                <p>Email: <a href="mailto:reiniscouple@gmail.com" class="hover:text-sky-400">reiniscouple@gmail.com</a></p>
                <p>Twitter: <a href="https://x.com/reiniscouple" target="_blank" rel="noopener noreferrer" class="hover:text-sky-400">@reiniscouple</a></p>
                <p>Instagram: <a href="https://www.instagram.com/reiniscouple" target="_blank" rel="noopener noreferrer" class="hover:text-sky-400">@reiniscouple</a></p>
                <p>Objkt.com: <a href="https://objkt.com/@reiniscouple" target="_blank" rel="noopener noreferrer" class="hover:text-sky-400">Nosso Perfil no Objkt</a></p>
                </div>
        </section>
    </main>

    <footer class="bg-zinc-800 mt-16 sm:mt-24">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 text-center text-gray-400">
            <p>&copy; <span id="currentYear"></span> Reiniscouple. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script>
        // JavaScript para buscar dados da API do Objkt e outras interatividades

        // Atualizar ano no rodapé
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // Navegação suave para âncoras e fechar menu móvel
        document.querySelectorAll('nav a[href^="#"], #mobile-menu a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
                // Fecha o menu móvel após o clique, se estiver aberto
                const mobileMenu = document.getElementById('mobile-menu');
                const mobileMenuButton = document.getElementById('mobile-menu-button');
                if (!mobileMenu.classList.contains('hidden')) {
                    mobileMenu.classList.add('hidden');
                    mobileMenuButton.querySelector('svg.block').classList.remove('hidden'); // Mostra ícone menu
                    mobileMenuButton.querySelector('svg.hidden').classList.add('hidden'); // Oculta ícone X
                }
            });
        });

        // Funcionalidade do menu móvel
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true' || false;
            mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
            mobileMenu.classList.toggle('hidden');
            mobileMenuButton.querySelector('svg.block').classList.toggle('hidden'); // Alterna ícone menu
            mobileMenuButton.querySelector('svg.hidden').classList.toggle('hidden'); // Alterna ícone X
        });


        // --- Integração com API do Objkt.com via ID da Coleção ---
        const OBJKT_COLLECTION_ID = "KT1PGkAnkKU12w7FutYfyyLokuxDhffHPsKd"; 

        async function fetchArtworks() {
            const artworksContainer = document.getElementById('artworks-container');
            const loadingIndicator = document.getElementById('artworks-loading');
            const cspNotice = document.getElementById('csp-notice');

            const query = `
                query GetCollectionTokens {
                  token(
                    where: {
                      _and: [
                        { fa_contract: {_eq: "${OBJKT_COLLECTION_ID}"} }, 
                        { supply: {_gt: "0"} } 
                      ]
                    },
                    order_by: {timestamp: desc}, 
                    limit: 24 
                  ) {
                    fa_contract 
                    name
                    description
                    mime
                    display_uri 
                    artifact_uri
                    token_id 
                    # platform # Removido pois estava a causar erro
                    thumbnail_uri
                    creators { 
                        holder {
                            alias
                            address
                        }
                    }
                    tags {
                        tag {
                            name
                        }
                    }
                  }
                }
            `;

            try {
                const response = await fetch('https://data.objkt.com/v3/graphql', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ query: query })
                });

                if (!response.ok) {
                    if(cspNotice) cspNotice.style.display = 'block';
                    throw new Error(`Erro na API: ${response.statusText} (${response.status})`);
                }

                const result = await response.json();

                if (result.errors) {
                    console.error("Erro na query GraphQL (detalhes abaixo):", result.errors);
                    if (result.errors[0] && result.errors[0].message) {
                        console.error("Mensagem específica da API Objkt:", result.errors[0].message);
                    }
                    artworksContainer.innerHTML = "<p class='text-center text-red-500 col-span-full'>Ocorreu um erro ao buscar as obras da coleção. Verifique o console para a mensagem específica da API.</p>";
                    if(loadingIndicator) loadingIndicator.style.display = 'none';
                    if(cspNotice) cspNotice.style.display = 'block'; 
                    return;
                }
                
                const tokens = result.data.token;
                if(loadingIndicator) loadingIndicator.style.display = 'none';
                if(cspNotice) cspNotice.style.display = 'none'; 

                if (tokens && tokens.length > 0) {
                    tokens.forEach(token => {
                        const card = document.createElement('div');
                        card.className = 'artwork-card bg-zinc-800 rounded-lg shadow-lg overflow-hidden flex flex-col';

                        const imageUri = token.thumbnail_uri || token.display_uri;
                        let mediaElement = '';
                        
                        if (token.mime && token.mime.startsWith('video/')) {
                            mediaElement = `<video src="${formatIpfsUri(imageUri)}" controls muted loop playsinline class="w-full h-auto object-cover"></video>`;
                        } else if (token.mime && token.mime.startsWith('image/')) {
                            mediaElement = `<img src="${formatIpfsUri(imageUri)}" alt="${token.name || 'Arte Generativa'}" class="w-full h-auto object-cover" onerror="this.src='https://placehold.co/600x600/1a1a1a/e0e0e0?text=Arte+Indispon%C3%ADvel'; this.onerror=null;">`;
                        } else if (imageUri) { 
                             mediaElement = `<img src="${formatIpfsUri(imageUri)}" alt="${token.name || 'Arte Generativa'}" class="w-full h-auto object-cover" onerror="this.src='https://placehold.co/600x600/1a1a1a/e0e0e0?text=Arte+Indispon%C3%ADvel'; this.onerror=null;">`;
                        } else {
                             mediaElement = `<div class="w-full h-48 bg-zinc-700 flex items-center justify-center"><p class="text-gray-400">Visual não disponível</p></div>`;
                        }
                        
                        const tokenId = token.token_id; 
                        const objktLink = `https://objkt.com/asset/${token.fa_contract}/${tokenId}`;

                        card.innerHTML = `
                            <div class="flex-shrink-0">
                                ${mediaElement}
                            </div>
                            <div class="p-4 sm:p-6 flex flex-col flex-grow">
                                <h3 class="text-lg sm:text-xl font-semibold text-white mb-2">${token.name || 'Sem título'}</h3>
                                <p class="text-sm text-gray-400 mb-3 flex-grow">${truncateDescription(token.description, 80)}</p>
                                <a href="${objktLink}" target="_blank" rel="noopener noreferrer" class="mt-auto inline-block bg-sky-600 hover:bg-sky-700 text-white text-center font-medium py-2 px-4 rounded-md transition-colors duration-150">
                                    Ver no Objkt.com
                                </a>
                            </div>
                        `;
                        artworksContainer.appendChild(card);
                    });
                } else {
                    artworksContainer.innerHTML = "<p class='text-center text-gray-400 col-span-full'>Nenhuma obra encontrada para este contrato FA2 (coleção) no Objkt.com ou a coleção está vazia.</p>";
                }

            } catch (error) {
                console.error("Falha ao buscar obras da coleção (pode ser um problema de rede ou CSP no ambiente de preview):", error);
                if(loadingIndicator) loadingIndicator.style.display = 'none';
                artworksContainer.innerHTML = "<p class='text-center text-red-500 col-span-full'>Não foi possível carregar as obras da coleção. Verifique a conexão ou tente mais tarde.</p>";
                if(cspNotice) cspNotice.style.display = 'block';
            }
        }

        function formatIpfsUri(uri) {
            if (uri && uri.startsWith('ipfs://')) {
                return `https://ipfs.io/ipfs/${uri.substring(7)}`;
            }
            return uri;
        }

        function truncateDescription(text, maxLength) {
            if (!text) return '';
            if (text.length <= maxLength) return text;
            return text.substring(0, maxLength).trim() + '...';
        }

        document.addEventListener('DOMContentLoaded', () => {
            fetchArtworks();
        });
    </script>
</body>
</html>
